{
  "id": "59ec379f-e4c8-4747-89f5-f53750a53d58",
  "prevId": "9965b6c5-5637-4d60-8323-f08a715424dc",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.anulaciones": {
      "name": "anulaciones",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "factura_id": {
          "name": "factura_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "codigo_generacion": {
          "name": "codigo_generacion",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "motivo": {
          "name": "motivo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "observaciones": {
          "name": "observaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estado": {
          "name": "estado",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pendiente'"
        },
        "sello_anulacion": {
          "name": "sello_anulacion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "jws_firmado": {
          "name": "jws_firmado",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "respuesta_mh": {
          "name": "respuesta_mh",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "usuario_anulo": {
          "name": "usuario_anulo",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_anulo": {
          "name": "fecha_anulo",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fecha_proceso": {
          "name": "fecha_proceso",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "ultimo_error": {
          "name": "ultimo_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "intentos_fallidos": {
          "name": "intentos_fallidos",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "anulaciones_tenant_id_tenants_id_fk": {
          "name": "anulaciones_tenant_id_tenants_id_fk",
          "tableFrom": "anulaciones",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "anulaciones_factura_id_facturas_id_fk": {
          "name": "anulaciones_factura_id_facturas_id_fk",
          "tableFrom": "anulaciones",
          "tableTo": "facturas",
          "columnsFrom": [
            "factura_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "anulaciones_usuario_anulo_users_id_fk": {
          "name": "anulaciones_usuario_anulo_users_id_fk",
          "tableFrom": "anulaciones",
          "tableTo": "users",
          "columnsFrom": [
            "usuario_anulo"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "anulaciones_tenant_id_codigo_generacion_unique": {
          "name": "anulaciones_tenant_id_codigo_generacion_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "codigo_generacion"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_keys": {
      "name": "api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "api_keys_tenant_id_tenants_id_fk": {
          "name": "api_keys_tenant_id_tenants_id_fk",
          "tableFrom": "api_keys",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "api_keys_key_unique": {
          "name": "api_keys_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audit_logs_user_id_users_id_fk": {
          "name": "audit_logs_user_id_users_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.certificados": {
      "name": "certificados",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "archivo": {
          "name": "archivo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "huella": {
          "name": "huella",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "algoritmo": {
          "name": "algoritmo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'RSA'"
        },
        "emisor": {
          "name": "emisor",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sujeto": {
          "name": "sujeto",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "valido_desde": {
          "name": "valido_desde",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "valido_hasta": {
          "name": "valido_hasta",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "dias_para_expiracion": {
          "name": "dias_para_expiracion",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contrasena_enc": {
          "name": "contrasena_enc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estado": {
          "name": "estado",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pendiente'"
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "es_productivo": {
          "name": "es_productivo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "certificado_valido": {
          "name": "certificado_valido",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ultima_validacion": {
          "name": "ultima_validacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "errores_validacion": {
          "name": "errores_validacion",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "url_descarga": {
          "name": "url_descarga",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "creado_por": {
          "name": "creado_por",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_certificados_tenantId": {
          "name": "idx_certificados_tenantId",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_certificados_estado": {
          "name": "idx_certificados_estado",
          "columns": [
            {
              "expression": "estado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_certificados_activo": {
          "name": "idx_certificados_activo",
          "columns": [
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_certificados_tenant_activo": {
          "name": "idx_certificados_tenant_activo",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "certificados_tenant_id_tenants_id_fk": {
          "name": "certificados_tenant_id_tenants_id_fk",
          "tableFrom": "certificados",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certificados_creado_por_users_id_fk": {
          "name": "certificados_creado_por_users_id_fk",
          "tableFrom": "certificados",
          "tableTo": "users",
          "columnsFrom": [
            "creado_por"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "certificados_tenant_id_huella_unique": {
          "name": "certificados_tenant_id_huella_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "huella"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.contingencia_queue": {
      "name": "contingencia_queue",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "factura_id": {
          "name": "factura_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "codigo_generacion": {
          "name": "codigo_generacion",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "estado": {
          "name": "estado",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pendiente'"
        },
        "intentos_fallidos": {
          "name": "intentos_fallidos",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ultimo_error": {
          "name": "ultimo_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_ingreso": {
          "name": "fecha_ingreso",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fecha_intento": {
          "name": "fecha_intento",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_completado": {
          "name": "fecha_completado",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "contingencia_queue_tenant_id_tenants_id_fk": {
          "name": "contingencia_queue_tenant_id_tenants_id_fk",
          "tableFrom": "contingencia_queue",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contingencia_queue_factura_id_facturas_id_fk": {
          "name": "contingencia_queue_factura_id_facturas_id_fk",
          "tableFrom": "contingencia_queue",
          "tableTo": "facturas",
          "columnsFrom": [
            "factura_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contingencia_queue_tenant_id_codigo_generacion_unique": {
          "name": "contingencia_queue_tenant_id_codigo_generacion_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "codigo_generacion"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.emisor": {
      "name": "emisor",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "emisor_tenant_id_tenants_id_fk": {
          "name": "emisor_tenant_id_tenants_id_fk",
          "tableFrom": "emisor",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factura_items": {
      "name": "factura_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "factura_id": {
          "name": "factura_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "num_item": {
          "name": "num_item",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_item": {
          "name": "tipo_item",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad": {
          "name": "cantidad",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "precio_uni": {
          "name": "precio_uni",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "venta_no_suj": {
          "name": "venta_no_suj",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "venta_exenta": {
          "name": "venta_exenta",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "venta_gravada": {
          "name": "venta_gravada",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "tributos": {
          "name": "tributos",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "iva_item": {
          "name": "iva_item",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "factura_items_factura_id_facturas_id_fk": {
          "name": "factura_items_factura_id_facturas_id_fk",
          "tableFrom": "factura_items",
          "tableTo": "facturas",
          "columnsFrom": [
            "factura_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.facturas": {
      "name": "facturas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fec_emi": {
          "name": "fec_emi",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "estado": {
          "name": "estado",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'borrador'"
        },
        "codigo_generacion": {
          "name": "codigo_generacion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sello_recibido": {
          "name": "sello_recibido",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_facturas_tenantId": {
          "name": "idx_facturas_tenantId",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_facturas_estado": {
          "name": "idx_facturas_estado",
          "columns": [
            {
              "expression": "estado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_facturas_fecEmi": {
          "name": "idx_facturas_fecEmi",
          "columns": [
            {
              "expression": "fec_emi",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_facturas_tenant_estado": {
          "name": "idx_facturas_tenant_estado",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "estado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "facturas_tenant_id_tenants_id_fk": {
          "name": "facturas_tenant_id_tenants_id_fk",
          "tableFrom": "facturas",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "facturas_codigo_generacion_unique": {
          "name": "facturas_codigo_generacion_unique",
          "nullsNotDistinct": false,
          "columns": [
            "codigo_generacion"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.login_attempts": {
      "name": "login_attempts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempted_at": {
          "name": "attempted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mh_catalogos": {
      "name": "mh_catalogos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "catalogo": {
          "name": "catalogo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "valor": {
          "name": "valor",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "padre": {
          "name": "padre",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mh_catalogos_catalogo_codigo_unique": {
          "name": "mh_catalogos_catalogo_codigo_unique",
          "nullsNotDistinct": false,
          "columns": [
            "catalogo",
            "codigo"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_channels": {
      "name": "notification_channels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient": {
          "name": "recipient",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notification_channels_tenant_type": {
          "name": "idx_notification_channels_tenant_type",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_channels_tenant_enabled": {
          "name": "idx_notification_channels_tenant_enabled",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notification_channels_tenant_id_tenants_id_fk": {
          "name": "notification_channels_tenant_id_tenants_id_fk",
          "tableFrom": "notification_channels",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_logs": {
      "name": "notification_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "channel_id": {
          "name": "channel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient": {
          "name": "recipient",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retries": {
          "name": "retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notification_logs_tenant_type": {
          "name": "idx_notification_logs_tenant_type",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_logs_tenant_status": {
          "name": "idx_notification_logs_tenant_status",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_logs_created": {
          "name": "idx_notification_logs_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notification_logs_tenant_id_tenants_id_fk": {
          "name": "notification_logs_tenant_id_tenants_id_fk",
          "tableFrom": "notification_logs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notification_logs_channel_id_notification_channels_id_fk": {
          "name": "notification_logs_channel_id_notification_channels_id_fk",
          "tableFrom": "notification_logs",
          "tableTo": "notification_channels",
          "columnsFrom": [
            "channel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.outbox_events": {
      "name": "outbox_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "aggregate_id": {
          "name": "aggregate_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "retries": {
          "name": "retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "available_at": {
          "name": "available_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_outbox_status_available": {
          "name": "idx_outbox_status_available",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "available_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_outbox_tenant_status": {
          "name": "idx_outbox_tenant_status",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "outbox_events_tenant_id_tenants_id_fk": {
          "name": "outbox_events_tenant_id_tenants_id_fk",
          "tableFrom": "outbox_events",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.productos": {
      "name": "productos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "precio_unitario": {
          "name": "precio_unitario",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "uni_medida": {
          "name": "uni_medida",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 20
        },
        "tipo_item": {
          "name": "tipo_item",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'2'"
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_productos_tenantId": {
          "name": "idx_productos_tenantId",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_productos_codigo": {
          "name": "idx_productos_codigo",
          "columns": [
            {
              "expression": "codigo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_productos_activo": {
          "name": "idx_productos_activo",
          "columns": [
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_productos_tenant_activo": {
          "name": "idx_productos_tenant_activo",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "productos_tenant_id_tenants_id_fk": {
          "name": "productos_tenant_id_tenants_id_fk",
          "tableFrom": "productos",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.receptores": {
      "name": "receptores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tipo_documento": {
          "name": "tipo_documento",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "num_documento": {
          "name": "num_documento",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nrc": {
          "name": "nrc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cod_actividad": {
          "name": "cod_actividad",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "desc_actividad": {
          "name": "desc_actividad",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "direccion": {
          "name": "direccion",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "telefono": {
          "name": "telefono",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correo": {
          "name": "correo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_receptores_tenantId": {
          "name": "idx_receptores_tenantId",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_receptores_numDocumento": {
          "name": "idx_receptores_numDocumento",
          "columns": [
            {
              "expression": "num_documento",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_receptores_tenant_numDoc": {
          "name": "idx_receptores_tenant_numDoc",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "num_documento",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "receptores_tenant_id_tenants_id_fk": {
          "name": "receptores_tenant_id_tenants_id_fk",
          "tableFrom": "receptores",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "receptores_tenant_id_num_documento_unique": {
          "name": "receptores_tenant_id_num_documento_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "num_documento"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.secuencial_control": {
      "name": "secuencial_control",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "emisor_nit": {
          "name": "emisor_nit",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_dte": {
          "name": "tipo_dte",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secuencial": {
          "name": "secuencial",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "ultimo_numero_control": {
          "name": "ultimo_numero_control",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_creacion": {
          "name": "fecha_creacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fecha_actualizacion": {
          "name": "fecha_actualizacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "secuencial_control_tenant_id_tenants_id_fk": {
          "name": "secuencial_control_tenant_id_tenants_id_fk",
          "tableFrom": "secuencial_control",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "secuencial_control_tenant_id_emisor_nit_tipo_dte_unique": {
          "name": "secuencial_control_tenant_id_emisor_nit_tipo_dte_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "emisor_nit",
            "tipo_dte"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_credentials": {
      "name": "tenant_credentials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "mh_usuario": {
          "name": "mh_usuario",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mh_pass_enc": {
          "name": "mh_pass_enc",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cert_p12_enc": {
          "name": "cert_p12_enc",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cert_pass_enc": {
          "name": "cert_pass_enc",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ambiente": {
          "name": "ambiente",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pruebas'"
        },
        "valido_desde": {
          "name": "valido_desde",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "valido_hasta": {
          "name": "valido_hasta",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tenant_credentials_tenant_id_tenants_id_fk": {
          "name": "tenant_credentials_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_credentials",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tipo": {
          "name": "tipo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'clinic'"
        },
        "estado": {
          "name": "estado",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'activo'"
        },
        "origen": {
          "name": "origen",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "modules": {
          "name": "modules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenants_slug_unique": {
          "name": "tenants_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'cashier'"
        },
        "sucursales_asignadas": {
          "name": "sucursales_asignadas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'null'::jsonb"
        },
        "modulos_habilitados": {
          "name": "modulos_habilitados",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'null'::jsonb"
        },
        "telefono": {
          "name": "telefono",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "account_locked": {
          "name": "account_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "lock_until": {
          "name": "lock_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "ultimo_acceso": {
          "name": "ultimo_acceso",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_users_tenant": {
          "name": "idx_users_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_role": {
          "name": "idx_users_role",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_activo": {
          "name": "idx_users_activo",
          "columns": [
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_tenant_role": {
          "name": "idx_users_tenant_role",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "users_tenant_id_tenants_id_fk": {
          "name": "users_tenant_id_tenants_id_fk",
          "tableFrom": "users",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}