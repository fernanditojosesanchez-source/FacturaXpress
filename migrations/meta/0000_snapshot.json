{
  "id": "351652b2-4c27-4030-98b4-6d4a4994be82",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.anulaciones": {
      "name": "anulaciones",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "factura_id": {
          "name": "factura_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "codigo_generacion": {
          "name": "codigo_generacion",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "motivo": {
          "name": "motivo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "observaciones": {
          "name": "observaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estado": {
          "name": "estado",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pendiente'"
        },
        "sello_anulacion": {
          "name": "sello_anulacion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "jws_firmado": {
          "name": "jws_firmado",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "respuesta_mh": {
          "name": "respuesta_mh",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "usuario_anulo": {
          "name": "usuario_anulo",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_anulo": {
          "name": "fecha_anulo",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fecha_proceso": {
          "name": "fecha_proceso",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "ultimo_error": {
          "name": "ultimo_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "intentos_fallidos": {
          "name": "intentos_fallidos",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "anulaciones_tenant_id_tenants_id_fk": {
          "name": "anulaciones_tenant_id_tenants_id_fk",
          "tableFrom": "anulaciones",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "anulaciones_factura_id_facturas_id_fk": {
          "name": "anulaciones_factura_id_facturas_id_fk",
          "tableFrom": "anulaciones",
          "tableTo": "facturas",
          "columnsFrom": [
            "factura_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "anulaciones_usuario_anulo_fx_users_id_fk": {
          "name": "anulaciones_usuario_anulo_fx_users_id_fk",
          "tableFrom": "anulaciones",
          "tableTo": "fx_users",
          "columnsFrom": [
            "usuario_anulo"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "anulaciones_tenant_id_codigo_generacion_unique": {
          "name": "anulaciones_tenant_id_codigo_generacion_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "codigo_generacion"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fx_api_keys": {
      "name": "fx_api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fx_api_keys_tenant_id_tenants_id_fk": {
          "name": "fx_api_keys_tenant_id_tenants_id_fk",
          "tableFrom": "fx_api_keys",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fx_api_keys_key_unique": {
          "name": "fx_api_keys_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fx_audit_logs": {
      "name": "fx_audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fx_audit_logs_user_id_fx_users_id_fk": {
          "name": "fx_audit_logs_user_id_fx_users_id_fk",
          "tableFrom": "fx_audit_logs",
          "tableTo": "fx_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.certificados": {
      "name": "certificados",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "archivo": {
          "name": "archivo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "huella": {
          "name": "huella",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "algoritmo": {
          "name": "algoritmo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'RSA'"
        },
        "emisor": {
          "name": "emisor",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sujeto": {
          "name": "sujeto",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "valido_desde": {
          "name": "valido_desde",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "valido_hasta": {
          "name": "valido_hasta",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "dias_para_expiracion": {
          "name": "dias_para_expiracion",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contrasena_enc": {
          "name": "contrasena_enc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estado": {
          "name": "estado",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pendiente'"
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "es_productivo": {
          "name": "es_productivo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "certificado_valido": {
          "name": "certificado_valido",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ultima_validacion": {
          "name": "ultima_validacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "errores_validacion": {
          "name": "errores_validacion",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "url_descarga": {
          "name": "url_descarga",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "creado_por": {
          "name": "creado_por",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_certificados_tenantId": {
          "name": "idx_certificados_tenantId",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_certificados_estado": {
          "name": "idx_certificados_estado",
          "columns": [
            {
              "expression": "estado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_certificados_activo": {
          "name": "idx_certificados_activo",
          "columns": [
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_certificados_tenant_activo": {
          "name": "idx_certificados_tenant_activo",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "certificados_tenant_id_tenants_id_fk": {
          "name": "certificados_tenant_id_tenants_id_fk",
          "tableFrom": "certificados",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certificados_creado_por_fx_users_id_fk": {
          "name": "certificados_creado_por_fx_users_id_fk",
          "tableFrom": "certificados",
          "tableTo": "fx_users",
          "columnsFrom": [
            "creado_por"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "certificados_tenant_id_huella_unique": {
          "name": "certificados_tenant_id_huella_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "huella"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fx_contingencia_queue": {
      "name": "fx_contingencia_queue",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "factura_id": {
          "name": "factura_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "codigo_generacion": {
          "name": "codigo_generacion",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "estado": {
          "name": "estado",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pendiente'"
        },
        "intentos_fallidos": {
          "name": "intentos_fallidos",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ultimo_error": {
          "name": "ultimo_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_ingreso": {
          "name": "fecha_ingreso",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fecha_intento": {
          "name": "fecha_intento",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_completado": {
          "name": "fecha_completado",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fx_contingencia_queue_tenant_id_tenants_id_fk": {
          "name": "fx_contingencia_queue_tenant_id_tenants_id_fk",
          "tableFrom": "fx_contingencia_queue",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fx_contingencia_queue_factura_id_facturas_id_fk": {
          "name": "fx_contingencia_queue_factura_id_facturas_id_fk",
          "tableFrom": "fx_contingencia_queue",
          "tableTo": "facturas",
          "columnsFrom": [
            "factura_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fx_contingencia_queue_tenant_id_codigo_generacion_unique": {
          "name": "fx_contingencia_queue_tenant_id_codigo_generacion_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "codigo_generacion"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.emisor": {
      "name": "emisor",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "emisor_tenant_id_tenants_id_fk": {
          "name": "emisor_tenant_id_tenants_id_fk",
          "tableFrom": "emisor",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factura_items": {
      "name": "factura_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "factura_id": {
          "name": "factura_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "num_item": {
          "name": "num_item",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_item": {
          "name": "tipo_item",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad": {
          "name": "cantidad",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "precio_uni": {
          "name": "precio_uni",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "venta_no_suj": {
          "name": "venta_no_suj",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "venta_exenta": {
          "name": "venta_exenta",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "venta_gravada": {
          "name": "venta_gravada",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "tributos": {
          "name": "tributos",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "iva_item": {
          "name": "iva_item",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "factura_items_factura_id_facturas_id_fk": {
          "name": "factura_items_factura_id_facturas_id_fk",
          "tableFrom": "factura_items",
          "tableTo": "facturas",
          "columnsFrom": [
            "factura_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.facturas": {
      "name": "facturas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fec_emi": {
          "name": "fec_emi",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "estado": {
          "name": "estado",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'borrador'"
        },
        "codigo_generacion": {
          "name": "codigo_generacion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sello_recibido": {
          "name": "sello_recibido",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_facturas_tenantId": {
          "name": "idx_facturas_tenantId",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_facturas_estado": {
          "name": "idx_facturas_estado",
          "columns": [
            {
              "expression": "estado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_facturas_fecEmi": {
          "name": "idx_facturas_fecEmi",
          "columns": [
            {
              "expression": "fec_emi",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_facturas_tenant_estado": {
          "name": "idx_facturas_tenant_estado",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "estado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "facturas_tenant_id_tenants_id_fk": {
          "name": "facturas_tenant_id_tenants_id_fk",
          "tableFrom": "facturas",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "facturas_codigo_generacion_unique": {
          "name": "facturas_codigo_generacion_unique",
          "nullsNotDistinct": false,
          "columns": [
            "codigo_generacion"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fx_login_attempts": {
      "name": "fx_login_attempts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempted_at": {
          "name": "attempted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mh_catalogos": {
      "name": "mh_catalogos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "catalogo": {
          "name": "catalogo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "valor": {
          "name": "valor",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "padre": {
          "name": "padre",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mh_catalogos_catalogo_codigo_unique": {
          "name": "mh_catalogos_catalogo_codigo_unique",
          "nullsNotDistinct": false,
          "columns": [
            "catalogo",
            "codigo"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_channels": {
      "name": "notification_channels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient": {
          "name": "recipient",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notification_channels_tenant_type": {
          "name": "idx_notification_channels_tenant_type",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_channels_tenant_enabled": {
          "name": "idx_notification_channels_tenant_enabled",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notification_channels_tenant_id_tenants_id_fk": {
          "name": "notification_channels_tenant_id_tenants_id_fk",
          "tableFrom": "notification_channels",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_logs": {
      "name": "notification_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "channel_id": {
          "name": "channel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient": {
          "name": "recipient",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retries": {
          "name": "retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notification_logs_tenant_type": {
          "name": "idx_notification_logs_tenant_type",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_logs_tenant_status": {
          "name": "idx_notification_logs_tenant_status",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_logs_created": {
          "name": "idx_notification_logs_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notification_logs_tenant_id_tenants_id_fk": {
          "name": "notification_logs_tenant_id_tenants_id_fk",
          "tableFrom": "notification_logs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notification_logs_channel_id_notification_channels_id_fk": {
          "name": "notification_logs_channel_id_notification_channels_id_fk",
          "tableFrom": "notification_logs",
          "tableTo": "notification_channels",
          "columnsFrom": [
            "channel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.outbox_events": {
      "name": "outbox_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "aggregate_id": {
          "name": "aggregate_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "retries": {
          "name": "retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "available_at": {
          "name": "available_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_outbox_status_available": {
          "name": "idx_outbox_status_available",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "available_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_outbox_tenant_status": {
          "name": "idx_outbox_tenant_status",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "outbox_events_tenant_id_tenants_id_fk": {
          "name": "outbox_events_tenant_id_tenants_id_fk",
          "tableFrom": "outbox_events",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.productos": {
      "name": "productos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "precio_unitario": {
          "name": "precio_unitario",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "uni_medida": {
          "name": "uni_medida",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 20
        },
        "tipo_item": {
          "name": "tipo_item",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'2'"
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_productos_tenantId": {
          "name": "idx_productos_tenantId",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_productos_codigo": {
          "name": "idx_productos_codigo",
          "columns": [
            {
              "expression": "codigo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_productos_activo": {
          "name": "idx_productos_activo",
          "columns": [
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_productos_tenant_activo": {
          "name": "idx_productos_tenant_activo",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "productos_tenant_id_tenants_id_fk": {
          "name": "productos_tenant_id_tenants_id_fk",
          "tableFrom": "productos",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.receptores": {
      "name": "receptores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tipo_documento": {
          "name": "tipo_documento",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "num_documento": {
          "name": "num_documento",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nrc": {
          "name": "nrc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cod_actividad": {
          "name": "cod_actividad",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "desc_actividad": {
          "name": "desc_actividad",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "direccion": {
          "name": "direccion",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "telefono": {
          "name": "telefono",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correo": {
          "name": "correo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_receptores_tenantId": {
          "name": "idx_receptores_tenantId",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_receptores_numDocumento": {
          "name": "idx_receptores_numDocumento",
          "columns": [
            {
              "expression": "num_documento",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_receptores_tenant_numDoc": {
          "name": "idx_receptores_tenant_numDoc",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "num_documento",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "receptores_tenant_id_tenants_id_fk": {
          "name": "receptores_tenant_id_tenants_id_fk",
          "tableFrom": "receptores",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "receptores_tenant_id_num_documento_unique": {
          "name": "receptores_tenant_id_num_documento_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "num_documento"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.secuencial_control": {
      "name": "secuencial_control",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "emisor_nit": {
          "name": "emisor_nit",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_dte": {
          "name": "tipo_dte",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secuencial": {
          "name": "secuencial",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "ultimo_numero_control": {
          "name": "ultimo_numero_control",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_creacion": {
          "name": "fecha_creacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fecha_actualizacion": {
          "name": "fecha_actualizacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "secuencial_control_tenant_id_tenants_id_fk": {
          "name": "secuencial_control_tenant_id_tenants_id_fk",
          "tableFrom": "secuencial_control",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "secuencial_control_tenant_id_emisor_nit_tipo_dte_unique": {
          "name": "secuencial_control_tenant_id_emisor_nit_tipo_dte_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "emisor_nit",
            "tipo_dte"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_credentials": {
      "name": "tenant_credentials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "mh_usuario": {
          "name": "mh_usuario",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mh_pass_enc": {
          "name": "mh_pass_enc",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cert_p12_enc": {
          "name": "cert_p12_enc",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cert_pass_enc": {
          "name": "cert_pass_enc",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ambiente": {
          "name": "ambiente",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pruebas'"
        },
        "valido_desde": {
          "name": "valido_desde",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "valido_hasta": {
          "name": "valido_hasta",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tenant_credentials_tenant_id_tenants_id_fk": {
          "name": "tenant_credentials_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_credentials",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tipo": {
          "name": "tipo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'clinic'"
        },
        "estado": {
          "name": "estado",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'activo'"
        },
        "origen": {
          "name": "origen",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "modules": {
          "name": "modules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenants_slug_unique": {
          "name": "tenants_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fx_users": {
      "name": "fx_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'cashier'"
        },
        "sucursales_asignadas": {
          "name": "sucursales_asignadas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'null'::jsonb"
        },
        "modulos_habilitados": {
          "name": "modulos_habilitados",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'null'::jsonb"
        },
        "telefono": {
          "name": "telefono",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "account_locked": {
          "name": "account_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "lock_until": {
          "name": "lock_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "ultimo_acceso": {
          "name": "ultimo_acceso",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_users_tenant": {
          "name": "idx_users_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_role": {
          "name": "idx_users_role",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_activo": {
          "name": "idx_users_activo",
          "columns": [
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_tenant_role": {
          "name": "idx_users_tenant_role",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fx_users_tenant_id_tenants_id_fk": {
          "name": "fx_users_tenant_id_tenants_id_fk",
          "tableFrom": "fx_users",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fx_users_username_unique": {
          "name": "fx_users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        },
        "fx_users_email_unique": {
          "name": "fx_users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stock_transito_detalles": {
      "name": "stock_transito_detalles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stock_transito_id": {
          "name": "stock_transito_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lote": {
          "name": "lote",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "numero_serie": {
          "name": "numero_serie",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "cantidad_enviada": {
          "name": "cantidad_enviada",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad_recibida": {
          "name": "cantidad_recibida",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "inspeccionado": {
          "name": "inspeccionado",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "fecha_inspeccion": {
          "name": "fecha_inspeccion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "estado_inspeccion": {
          "name": "estado_inspeccion",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "observaciones_inspeccion": {
          "name": "observaciones_inspeccion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_stock_transito_detalles_padre": {
          "name": "idx_stock_transito_detalles_padre",
          "columns": [
            {
              "expression": "stock_transito_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_stock_transito_detalles_lote": {
          "name": "idx_stock_transito_detalles_lote",
          "columns": [
            {
              "expression": "lote",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stock_transito_detalles_stock_transito_id_stock_transito_id_fk": {
          "name": "stock_transito_detalles_stock_transito_id_stock_transito_id_fk",
          "tableFrom": "stock_transito_detalles",
          "tableTo": "stock_transito",
          "columnsFrom": [
            "stock_transito_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stock_transito_historial": {
      "name": "stock_transito_historial",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stock_transito_id": {
          "name": "stock_transito_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "estado_anterior": {
          "name": "estado_anterior",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "estado_nuevo": {
          "name": "estado_nuevo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre_usuario": {
          "name": "nombre_usuario",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "evento": {
          "name": "evento",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "ubicacion": {
          "name": "ubicacion",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "evidencia": {
          "name": "evidencia",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "observaciones": {
          "name": "observaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_stock_transito_historial_padre": {
          "name": "idx_stock_transito_historial_padre",
          "columns": [
            {
              "expression": "stock_transito_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_stock_transito_historial_evento": {
          "name": "idx_stock_transito_historial_evento",
          "columns": [
            {
              "expression": "evento",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_stock_transito_historial_fecha": {
          "name": "idx_stock_transito_historial_fecha",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stock_transito_historial_stock_transito_id_stock_transito_id_fk": {
          "name": "stock_transito_historial_stock_transito_id_stock_transito_id_fk",
          "tableFrom": "stock_transito_historial",
          "tableTo": "stock_transito",
          "columnsFrom": [
            "stock_transito_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stock_transito": {
      "name": "stock_transito",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "numero_movimiento": {
          "name": "numero_movimiento",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "referencia": {
          "name": "referencia",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "sucursal_origen": {
          "name": "sucursal_origen",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_destino": {
          "name": "sucursal_destino",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "producto_id": {
          "name": "producto_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "codigo_producto": {
          "name": "codigo_producto",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "nombre_producto": {
          "name": "nombre_producto",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad_enviada": {
          "name": "cantidad_enviada",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad_recibida": {
          "name": "cantidad_recibida",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "cantidad_devuelta": {
          "name": "cantidad_devuelta",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "estado": {
          "name": "estado",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pendiente'"
        },
        "fecha_envio": {
          "name": "fecha_envio",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_esperada_entrega": {
          "name": "fecha_esperada_entrega",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_recepcion": {
          "name": "fecha_recepcion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "transportista": {
          "name": "transportista",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "numero_guia": {
          "name": "numero_guia",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "costo_transporte": {
          "name": "costo_transporte",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "observaciones": {
          "name": "observaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "motivo_devolucion": {
          "name": "motivo_devolucion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "creado_por": {
          "name": "creado_por",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "modificado_por": {
          "name": "modificado_por",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_stock_transito_tenant": {
          "name": "idx_stock_transito_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_stock_transito_estado": {
          "name": "idx_stock_transito_estado",
          "columns": [
            {
              "expression": "estado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_stock_transito_numero": {
          "name": "idx_stock_transito_numero",
          "columns": [
            {
              "expression": "numero_movimiento",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_stock_transito_origen_destino": {
          "name": "idx_stock_transito_origen_destino",
          "columns": [
            {
              "expression": "sucursal_origen",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sucursal_destino",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sigma_support_access": {
      "name": "sigma_support_access",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "support_user_id": {
          "name": "support_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "support_user_name": {
          "name": "support_user_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "support_email": {
          "name": "support_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_nombre": {
          "name": "tenant_nombre",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_acceso": {
          "name": "tipo_acceso",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'readonly'"
        },
        "can_view_logs": {
          "name": "can_view_logs",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "can_view_metrics": {
          "name": "can_view_metrics",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "can_view_audit": {
          "name": "can_view_audit",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "can_export_data": {
          "name": "can_export_data",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "fecha_inicio": {
          "name": "fecha_inicio",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "fecha_fin": {
          "name": "fecha_fin",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "razon": {
          "name": "razon",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "otorgado_por": {
          "name": "otorgado_por",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "revisado_por": {
          "name": "revisado_por",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_sigma_support_access_user": {
          "name": "idx_sigma_support_access_user",
          "columns": [
            {
              "expression": "support_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sigma_support_access_tenant": {
          "name": "idx_sigma_support_access_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sigma_support_access_active": {
          "name": "idx_sigma_support_access_active",
          "columns": [
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fecha_fin",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sigma_support_logs": {
      "name": "sigma_support_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "support_user_id": {
          "name": "support_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "support_user_name": {
          "name": "support_user_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "accion": {
          "name": "accion",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "recurso": {
          "name": "recurso",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "detalles": {
          "name": "detalles",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "exitoso": {
          "name": "exitoso",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sigma_support_logs_user": {
          "name": "idx_sigma_support_logs_user",
          "columns": [
            {
              "expression": "support_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sigma_support_logs_accion": {
          "name": "idx_sigma_support_logs_accion",
          "columns": [
            {
              "expression": "accion",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sigma_support_logs_fecha": {
          "name": "idx_sigma_support_logs_fecha",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sigma_support_metricas": {
      "name": "sigma_support_metricas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_nombre": {
          "name": "tenant_nombre",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "metrica": {
          "name": "metrica",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "valor": {
          "name": "valor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "periodo": {
          "name": "periodo",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'daily'"
        },
        "fecha": {
          "name": "fecha",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "trending": {
          "name": "trending",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "alerta": {
          "name": "alerta",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sigma_support_metricas_tenant": {
          "name": "idx_sigma_support_metricas_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sigma_support_metricas_tipo": {
          "name": "idx_sigma_support_metricas_tipo",
          "columns": [
            {
              "expression": "metrica",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sigma_support_metricas_fecha": {
          "name": "idx_sigma_support_metricas_fecha",
          "columns": [
            {
              "expression": "fecha",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sigma_support_tickets": {
      "name": "sigma_support_tickets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "numero_ticket": {
          "name": "numero_ticket",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_nombre": {
          "name": "tenant_nombre",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "titulo": {
          "name": "titulo",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "categoria": {
          "name": "categoria",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "severidad": {
          "name": "severidad",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "estado": {
          "name": "estado",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'abierto'"
        },
        "asignado_a": {
          "name": "asignado_a",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "asignado_nombre": {
          "name": "asignado_nombre",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "solucion": {
          "name": "solucion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_resolucion": {
          "name": "fecha_resolucion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "creado_por": {
          "name": "creado_por",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_sigma_support_tickets_tenant": {
          "name": "idx_sigma_support_tickets_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sigma_support_tickets_estado": {
          "name": "idx_sigma_support_tickets_estado",
          "columns": [
            {
              "expression": "estado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sigma_support_tickets_numero": {
          "name": "idx_sigma_support_tickets_numero",
          "columns": [
            {
              "expression": "numero_ticket",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sigma_support_tickets_severidad": {
          "name": "idx_sigma_support_tickets_severidad",
          "columns": [
            {
              "expression": "severidad",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sigma_support_tickets_numero_ticket_unique": {
          "name": "sigma_support_tickets_numero_ticket_unique",
          "nullsNotDistinct": false,
          "columns": [
            "numero_ticket"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sigma_support_access_extensions": {
      "name": "sigma_support_access_extensions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "original_access_id": {
          "name": "original_access_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "previous_expires_at": {
          "name": "previous_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "new_expires_at": {
          "name": "new_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "extension_duration": {
          "name": "extension_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "approved_by_name": {
          "name": "approved_by_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_support_extensions_access": {
          "name": "idx_support_extensions_access",
          "columns": [
            {
              "expression": "original_access_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_extensions_request": {
          "name": "idx_support_extensions_request",
          "columns": [
            {
              "expression": "request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sigma_support_access_requests": {
      "name": "sigma_support_access_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requested_by_name": {
          "name": "requested_by_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "requested_by_email": {
          "name": "requested_by_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_nombre": {
          "name": "tenant_nombre",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_duration": {
          "name": "estimated_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 7200000
        },
        "urgency": {
          "name": "urgency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "scope_requested": {
          "name": "scope_requested",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"canViewLogs\":true,\"canViewMetrics\":true,\"canViewAudit\":false,\"canExportData\":false}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by_name": {
          "name": "reviewed_by_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_granted_id": {
          "name": "access_granted_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "access_expires_at": {
          "name": "access_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "notification_sent": {
          "name": "notification_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notification_sent_at": {
          "name": "notification_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_support_requests_tenant": {
          "name": "idx_support_requests_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_requests_requester": {
          "name": "idx_support_requests_requester",
          "columns": [
            {
              "expression": "requested_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_requests_status": {
          "name": "idx_support_requests_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_support_requests_expires": {
          "name": "idx_support_requests_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sigma_support_jit_policies": {
      "name": "sigma_support_jit_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "require_approval": {
          "name": "require_approval",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "auto_approve_for_urgency": {
          "name": "auto_approve_for_urgency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "max_access_duration": {
          "name": "max_access_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 7200000
        },
        "max_extensions": {
          "name": "max_extensions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2
        },
        "request_expiration_time": {
          "name": "request_expiration_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 86400000
        },
        "notify_admins_on_request": {
          "name": "notify_admins_on_request",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notify_admin_emails": {
          "name": "notify_admin_emails",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_scopes": {
          "name": "allowed_scopes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"canViewLogs\":true,\"canViewMetrics\":true,\"canViewAudit\":false,\"canExportData\":false}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_support_jit_policies_tenant": {
          "name": "idx_support_jit_policies_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sigma_support_jit_policies_tenant_id_unique": {
          "name": "sigma_support_jit_policies_tenant_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.catalog_sync_alerts": {
      "name": "catalog_sync_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "catalog_name": {
          "name": "catalog_name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recommendation": {
          "name": "recommendation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notification_sent": {
          "name": "notification_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notification_sent_at": {
          "name": "notification_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_catalog_sync_alerts_catalog": {
          "name": "idx_catalog_sync_alerts_catalog",
          "columns": [
            {
              "expression": "catalog_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_catalog_sync_alerts_severity": {
          "name": "idx_catalog_sync_alerts_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.catalog_sync_history": {
      "name": "catalog_sync_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "catalog_name": {
          "name": "catalog_name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_record_count": {
          "name": "old_record_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "new_record_count": {
          "name": "new_record_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "changed_records": {
          "name": "changed_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stack_trace": {
          "name": "stack_trace",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'auto'"
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_catalog_sync_history_catalog": {
          "name": "idx_catalog_sync_history_catalog",
          "columns": [
            {
              "expression": "catalog_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_catalog_sync_history_status": {
          "name": "idx_catalog_sync_history_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.catalog_versions": {
      "name": "catalog_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "catalog_name": {
          "name": "catalog_name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "record_count": {
          "name": "record_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sync_status": {
          "name": "sync_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'success'"
        },
        "sync_duration_ms": {
          "name": "sync_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "data_hash": {
          "name": "data_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_catalog_versions_name": {
          "name": "idx_catalog_versions_name",
          "columns": [
            {
              "expression": "catalog_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_catalog_versions_status": {
          "name": "idx_catalog_versions_status",
          "columns": [
            {
              "expression": "sync_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "last_sync_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unq_catalog_name_version": {
          "name": "unq_catalog_name_version",
          "nullsNotDistinct": false,
          "columns": [
            "catalog_name",
            "version"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.feature_flag_evaluations": {
      "name": "feature_flag_evaluations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "flag_id": {
          "name": "flag_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resultado": {
          "name": "resultado",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "estrategia_usada": {
          "name": "estrategia_usada",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_feature_flag_evaluations_flagId": {
          "name": "idx_feature_flag_evaluations_flagId",
          "columns": [
            {
              "expression": "flag_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flag_evaluations_tenantId": {
          "name": "idx_feature_flag_evaluations_tenantId",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flag_evaluations_createdAt": {
          "name": "idx_feature_flag_evaluations_createdAt",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flag_evaluations_flag_tenant": {
          "name": "idx_feature_flag_evaluations_flag_tenant",
          "columns": [
            {
              "expression": "flag_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "feature_flag_evaluations_flag_id_feature_flags_id_fk": {
          "name": "feature_flag_evaluations_flag_id_feature_flags_id_fk",
          "tableFrom": "feature_flag_evaluations",
          "tableTo": "feature_flags",
          "columnsFrom": [
            "flag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "feature_flag_evaluations_tenant_id_tenants_id_fk": {
          "name": "feature_flag_evaluations_tenant_id_tenants_id_fk",
          "tableFrom": "feature_flag_evaluations",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.feature_flag_history": {
      "name": "feature_flag_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "flag_id": {
          "name": "flag_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "campo": {
          "name": "campo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "valor_anterior": {
          "name": "valor_anterior",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "valor_nuevo": {
          "name": "valor_nuevo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "modificado_por": {
          "name": "modificado_por",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "motivo": {
          "name": "motivo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_feature_flag_history_flagId": {
          "name": "idx_feature_flag_history_flagId",
          "columns": [
            {
              "expression": "flag_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flag_history_createdAt": {
          "name": "idx_feature_flag_history_createdAt",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "feature_flag_history_flag_id_feature_flags_id_fk": {
          "name": "feature_flag_history_flag_id_feature_flags_id_fk",
          "tableFrom": "feature_flag_history",
          "tableTo": "feature_flags",
          "columnsFrom": [
            "flag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.feature_flags": {
      "name": "feature_flags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "categoria": {
          "name": "categoria",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'feature'"
        },
        "habilitado": {
          "name": "habilitado",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "estrategia": {
          "name": "estrategia",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'boolean'"
        },
        "porcentaje_rollout": {
          "name": "porcentaje_rollout",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "tenants_permitidos": {
          "name": "tenants_permitidos",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "usuarios_permitidos": {
          "name": "usuarios_permitidos",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "configuracion": {
          "name": "configuracion",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "inicio_automatico": {
          "name": "inicio_automatico",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fin_automatico": {
          "name": "fin_automatico",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "veces_consultado": {
          "name": "veces_consultado",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "veces_activado": {
          "name": "veces_activado",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "veces_desactivado": {
          "name": "veces_desactivado",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ultima_consulta": {
          "name": "ultima_consulta",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "creado_por": {
          "name": "creado_por",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "modificado_por": {
          "name": "modificado_por",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_feature_flags_key": {
          "name": "idx_feature_flags_key",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flags_habilitado": {
          "name": "idx_feature_flags_habilitado",
          "columns": [
            {
              "expression": "habilitado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flags_categoria": {
          "name": "idx_feature_flags_categoria",
          "columns": [
            {
              "expression": "categoria",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flags_estrategia": {
          "name": "idx_feature_flags_estrategia",
          "columns": [
            {
              "expression": "estrategia",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "feature_flags_key_unique": {
          "name": "feature_flags_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}